(function(){"use strict";function e(e){"TEXTAREA"===e.nodeName&&setTimeout(()=>{e.style.height="0px";let t=e.scrollHeight;e.style.height=`${t}px`},10)}function t(){document.querySelectorAll("textarea").forEach(t=>{e(t)})}document.body.addEventListener("keydown",e=>{if("Tab"!==e.key||!e.shiftKey)return;if(!e.target||"TEXTAREA"!==e.target.nodeName)return;e.preventDefault();let t=e.target,r=t.value,a=r.slice(t.selectionEnd,r.length),n=t.selectionEnd;if(e.shiftKey){let o=0;for(let e=0;e<4;++e){if("\t"===r.charAt(n-1)){if(e>0)break;--n;break}if(s," "!==r.charAt(n-1))break;--n}o>0&&(e.target.value=r.slice(0,t.selectionStart-o)+a)}else e.target.value=r.slice(0,t.selectionStart)+"\t"+a,++n;t.selectionStart=n,t.selectionEnd=n}),window.AutosizeTextarea=e,window.RefreshTextareaSizes=(()=>{setTimeout(t,100)}),["input","focusin","change"].forEach(t=>{document.body.addEventListener(t,t=>{t.target&&"TEXTAREA"===t.target.nodeName&&e(t.target)})}),window.addEventListener("resize",t);const r=t=>{const r=new MutationObserver(t=>{t.forEach(function(t){console.log(t.target),t.target&&t.target.parentNode&&"TEXTAREA"===t.target.parentNode.nodeName&&e(t.target.parentNode),Array.from(t.addedNodes).forEach(t=>{t.nodeName&&"TEXTAREA"===t.nodeName&&e(t)})})});return r.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),r};r(document.body)})();