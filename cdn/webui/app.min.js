"use strict";{{function getStorage(){return localStorage.storage_accepted?localStorage:sessionStorage}function getNodeKey(t){let e=[];return e.push(t.nodeName.toLowerCase()),t.classList.length&&e.push(t.classList[0]),["id","name"].forEach(n=>{let o=t.attributes[n];o&&o.value&&e.join(`${n}-${o.value}`)}),e.join("_")}function saveState(t){let e=getStorage(),n=getNodeKey(t),o={};t.dataset.state.split("|").forEach(e=>{let n=t.attributes[e];n&&n.value&&"undefined"!==n.value&&(o[e]=n.value)}),e[n]=JSON.stringify(o)}function loadState(t){let e=getStorage(),n=getNodeKey(t);if(!e[n])return;let o=JSON.parse(e[n]);t.dataset.state.split("|").forEach(e=>{o[e]&&t.setAttribute(e,o[e])})}function checkNodes(t){0!==t.length&&t.forEach(t=>{t.dataset&&t.dataset.state&&loadState(t),checkNodes(t.childNodes)})}function applyDataHide(){document.querySelectorAll("[data-hide]").forEach(t=>{let e=t.dataset.hide;if(!e)return;let n=document.querySelector(e);t.style.display=n?"":"none"})}const t=t=>{const e=new MutationObserver(t=>{t.forEach(function(t){t.target&&t.target.dataset&&t.target.dataset.state&&saveState(t.target),Array.from(t.addedNodes).forEach(t=>{t.dataset&&t.dataset.state&&loadState(t)})}),applyDataHide()});return e.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),e};t(document.body),checkNodes(document.childNodes),applyDataHide()}{function handleDataTrigger(t){let e=t.srcElement||t.target,n=e.dataset.trigger;if(!n)return;let o=e.value;document.querySelectorAll(`[data-subscribe="${n}"]`).forEach(t=>{let e=t.dataset.set||"innerText";t[e]=o})}function toggleAttr(t,e){t.getAttribute(e)?t.removeAttribute(e):t.setAttribute(e,!0)}function toggleClass(t,e){t.classList.contains(e)?t.classList.remove(e):t.classList.add(e)}function removeClass(t,e){t.classList.contains(e)&&t.classList.remove(e)}function setAttr(t,e,n){t.setAttribute(e,n)}document.body.addEventListener("input",handleDataTrigger),document.body.addEventListener("change",handleDataTrigger),document.body.addEventListener("click",t=>{let e=t.target;for(;e!==document.body;){if(e.hasAttribute("data-stopclick"))return t.stopPropagation(),t.preventDefault(),!1;if(e.dataset.setattr){let[t,o,i]=e.dataset.setattr.split("|").reverse();i?document.querySelectorAll(i).forEach(e=>{setAttr(e,o,t)}):setAttr(e,o,t),n();break}if(e.dataset.toggleclass){let[t,o]=e.dataset.toggleclass.split("|").reverse();o?document.querySelectorAll(o).forEach(e=>toggleClass(e,t)):toggleClass(e,t),n();break}if(e.dataset.removeclass&&(e.dataset.removeclass.split(";").forEach(t=>{let[n,o]=t.split("|").reverse();o?document.querySelectorAll(o).forEach(t=>removeClass(t,n)):removeClass(e,n)}),n()),e.dataset.toggleattr){let[t,o]=e.dataset.toggleattr.split("|").reverse();o?document.querySelectorAll(o).forEach(e=>toggleAttr(e,t)):toggleAttr(e,t),n();break}e=e.parentNode}})}const t=document.createElement("template");t.setAttribute("shadowrootmode",!0),t.innerHTML='\n<style type="text/css">\n:host {\nbackground-color: var(--site-background-color, white);\ncolor: var(--site-background-offset, black);\ndisplay: grid;\ngrid-template-columns: min-content auto min-content;\ngrid-template-rows: min-content min-content auto min-content min-content;\nposition: fixed;\nleft: 0;\ntop: 0;\nwidth: 100%;\nheight: 100%;\nmax-width: 100%;\nmax-height: 100%;\noverflow: hidden;\n}\n::slotted([slot="header"]) {\ngrid-row: 2;\ngrid-column: 2;\ndisplay: flex!important;\nalign-items: start;\njustify-items: start;\nfont-size: 1.2rem;\ngap:var(--padding, 1em);\npadding:var(--padding,1em);\nheight:min-content;\nmax-height:min-content;\n}\n::slotted([slot="footer"]) {\ngrid-row: 4;\ngrid-column: 2;\ndisplay: flex!important;\nfont-size: 0.8rem;\nalign-items:center;\npadding:var(--padding, 1em);\nvertical-align:middle;\ngap:var(--padding, 1em);\nheight:min-content;\nmax-height:min-content;\n}\n::slotted([slot="left"]) {\ngrid-column: 1;\nz-index: 10;\n}\n::slotted([slot="right"]) {\ngrid-column: 3;\nz-index: 11;\n}\n::slotted([slot="bottom"]) {\nheight:min-content;\ngrid-row: 5;\nz-index: 12;\n}\n::slotted([slot="top"]) {\nheight:min-content;\ngrid-row: 1;\nz-index: 13;\n}\n::slotted([slot="left"]),\n::slotted([slot="right"]) {\n    max-width: calc(0.5 * var(--window-width));\n    grid-row: 2/5;\n    display: flex!important;\n    flex-direction: column;\n}\n::slotted([slot="top"]),\n::slotted([slot="bottom"]) {\n    max-height: calc(0.5 * var(--window-height));\n    grid-column: 2;\n}\n::slotted(:not([slot])) {\n}\nmain {\ndisplay:block;\noverflow:auto;\nbox-sizing:border-box;\nheight:var(--main-height);\nflex-grow:1;\npadding:var(--padding,1em);\ngrid-row: 3;\ngrid-column: 2;\n}\n</style>\n<slot name="header"></slot>\n<main><slot></slot></main>\n<slot name="footer"></slot>\n<slot name="left"></slot>\n<slot name="right"></slot>\n<slot name="top"></slot>\n<slot name="bottom"></slot>\n<webui-dialogs></webui-dialogs>\n';let e="",n=()=>{};window.addEventListener("resize",t=>{n()});class o extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:"open"});this.dynstyles=document.createElement("style"),this.dynstyles.setAttribute("type","text/css"),this.template=t.content.cloneNode(!0),this.headerSlot=this.template.querySelector("slot[name=header]"),this.footerSlot=this.template.querySelector("slot[name=footer]"),this.leftPanelSlot=this.template.querySelector("slot[name=left]"),this.rightPanelSlot=this.template.querySelector("slot[name=right]"),this.topPanelSlot=this.template.querySelector("slot[name=top]"),this.bottomPanelSlot=this.template.querySelector("slot[name=bottom]"),e.appendChild(this.template),document.head.appendChild(this.dynstyles),this.getAttribute("preload")||this.setAttribute("preload","dialogs"),n=(()=>{this.applyDynamicStyles()}),this.applyDynamicStylesTimer()}static get observedAttributes(){return[]}attributeChangedCallback(t,e,n){e!==n&&(this[t]=n)}connectedCallback(){}disconnectedCallback(){}getSlot(t){let e=null;return this.childNodes.forEach(n=>{n.slot===t&&(e=n)}),e}applyDynamicStyles(){let t=this.getSlot("header")||{clientHeight:0},n=this.getSlot("footer")||{clientHeight:0},o=this.getSlot("top")||{clientHeight:0},i=this.getSlot("right")||{clientWidth:0},a=this.getSlot("bottom")||{clientHeight:0},l=this.getSlot("left")||{clientWidth:0},s=this.shadowRoot.children[2],r=window,d=document.body,c=r.innerWidth||d.clientWidth,h=r.innerHeight||d.clientHeight,g=s.clientWidth,m=h-(t.clientHeight+n.clientHeight+o.clientHeight+a.clientHeight),u=`\n        :root {\n        --window-width: ${c}px;\n        --window-height: ${h}px;\n        --main-width: ${g}px;\n        --main-height: ${m}px;\n        --header-height: ${t.clientHeight}px;\n        --footer-height: ${n.clientHeight}px;\n        --drawer-left-width: ${l.clientWidth}px;\n        --drawer-right-width: ${i.clientWidth}px;\n        --drawer-top-height: ${o.clientHeight}px;\n        --drawer-bottom-height: ${a.clientHeight}px;\n        }\n        `;e!==u&&(e=u,this.dynstyles.innerHTML=u)}applyDynamicStylesTimer(){n(),setTimeout(()=>this.applyDynamicStylesTimer(),1e3)}}customElements.define("webui-app",o)}