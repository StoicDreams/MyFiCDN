{function getAlign(val){let flagStart=0,flagEnd=0;return":"===(val=val.trim())[0]&&(flagStart=1,val=val.substr(1)),":"===val.substr(val.length-1)&&(flagEnd=1,val=val.substr(0,val.length-1)),[val.trim(),flagStart?flagEnd?"text-center":"text-left":flagEnd?"text-right":"text-justify"]}webui.define("webui-table",{constructor:t=>{t._table=webui.create("table"),t._columnTemplates={},webui.removeElements(t,'[slot="column"]',(n=>{let key=n.dataset.name||n.dataset.key||n.getAttribute("name")||n.getAttribute("key");void 0!==key&&(t._columnTemplates[key]=n.innerHTML)}))},attr:["bordered","columns"],attrChanged:(t,property,value)=>{switch(property){case"bordered":t._table.classList.add("bordered");break;case"columns":t._columns=[],value.split(";").forEach((c=>{(c=c.trim())&&t._columns.push(webui.replaceAppData(c))})),t.render()}},setData:function(data){const t=this;data=data||{},t._data="string"==typeof data?JSON.parse(data):data,t.render()},render:function(){const t=this;t._table.innerHTML="";let h=webui.create("tr");t._table.appendChild(h),t._columns.forEach((col=>{let cd=col.split("|")[0].trim(),[display,align]=getAlign(cd),th=webui.create("th",{class:align});th.innerHTML=webui.replaceAppData(display),h.appendChild(th)})),t._data&&t._data.forEach&&t._data.forEach((row=>{row._rowId||(row._rowId=webui.toCamel(webui.uuid()).toLowerCase(),webui.setData(`page-tr-${row._rowId}`,row));let tr=webui.create("tr");t._table.appendChild(tr),t._columns.forEach((col=>{let cd=(col=col.trim()).split("|"),[cm,align]=getAlign(cd[0]);2===cd.length&&(cm=cd[1].trim());let cc=webui.toCamel(cm),pc=webui.toPascel(cm),td=webui.create("td",{class:align});if(tr.appendChild(td),t._columnTemplates[cm])td.innerHTML=webui.replaceAppData(t._columnTemplates[cm],row);else if(t._columnTemplates[cc])td.innerHTML=webui.replaceAppData(t._columnTemplates[cc],row);else if(t._columnTemplates[pc])td.innerHTML=webui.replaceAppData(t._columnTemplates[pc],row);else{let data=webui.getDefined(row[cm],row[cc],row[pc],"");td.innerHTML=webui.replaceAppData(`${data}`)}}))}))},connected:t=>{t.appendChild(t._table),t.render(),setTimeout((()=>{if(t.dataset.subscribe){let data=webui.getData(t.dataset.subscribe);data!==t._data&&t.setData(data)}}),1)},shadowTemplate:'\n<slot name="column"></slot>\n<slot></slot>\n<style type="text/javascript">\n:host {\ndisplay:block;\nwidth:100%;\nwidth:-webkit-fill-available;\n}\nslot[name="column"] {\ndisplay:none;\n}\n</style>\n'})}