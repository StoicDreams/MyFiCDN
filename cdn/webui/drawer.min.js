/*!
 * Web UI Drawer - https://webui.stoicdreams.com
 * A component for displaying and managing a drawer within the web UI.
 * Authored by Erik Gassler - Stoic Dreams
 * Copyright Â© 2024-2025 Stoic Dreams - https://www.stoicdreams.com
 * Licensed under the MIT license - https://github.com/StoicDreams/MyFiCDN/blob/main/LICENSE
 */
"use strict";{const dockableTemplate='\n<webui-toggle-icon class="pa-0" data-toggleattr="[ID]|docked" data-enabled="[ID]" icon-on="arrow-side-from-square|rotate:180" icon-off="drawer|rotate:90" title-on="Hide Navigation" flags-on="" flags-off="fill" title-off="Dock Navigation"></webui-toggle-icon>',moveableTemplate='\n<button data-setattr="[ID]|slot|left" aria-label="Set navigation to left" class="toggle-pos-left">\n<webui-icon icon="drawer|rotate:90"></webui-icon>\n</button>\n<button data-setattr="[ID]|slot|right" aria-label="Set navigation to right" class="toggle-pos-right">\n<webui-icon icon="drawer|rotate:-90"></webui-icon>\n</button>\n<button data-setattr="[ID]|slot|top" aria-label="Set navigation to top" class="toggle-pos-top">\n<webui-icon icon="drawer|rotate:180"></webui-icon>\n</button>\n<button data-setattr="[ID]|slot|bottom" aria-label="Set navigation to bottom" class="toggle-pos-bottom">\n<webui-icon icon="drawer"></webui-icon>\n</button>';webui.define("webui-drawer",{preload:"icon flex toggle-icon",constructor:t=>{t._idselector=`#${t._id}`,t.headerSlot=t.template.querySelector("slot[name=header]"),t.footerSlot=t.template.querySelector("slot[name=footer]");let cache=t.innerHTML;(domNode=>{const observer=new MutationObserver((mutations=>{mutations.forEach((function(_m){cache!==t.innerHTML&&(cache=t.innerHTML,t.buildFooterContent())}))}));observer.observe(domNode,{childList:!0,attributes:!1,characterData:!1,subtree:!0})})(t)},connected:t=>{setTimeout((()=>{t.setAttribute("id",t._id)}),100),t._resizeHandler=()=>t.checkResponsiveDocking(),window.addEventListener("resize",t._resizeHandler),t.checkResponsiveDocking()},disconnected:t=>{window.removeEventListener("resize",t._resizeHandler)},attr:["position","docked","data-dockable","data-moveable"],attrChanged:(t,property,value)=>{switch(property){case"docked":t._forceUndocked||(t._cacheDocked=!!value);break;case"dataDockable":t.dataDockable=!0,t.buildFooterContent();break;case"dataMoveable":t.dataMoveable=!0,t.buildFooterContent()}},buildFooterContent:function(){this.querySelectorAll('[slot="footer"]').forEach((el=>el.remove()));let content="",fb=webui.create("webui-flex");fb.setAttribute("justify","center"),fb.setAttribute("slot","footer"),this.dataMoveable&&(content+=moveableTemplate.split("[ID]").join(this._idselector)),this.dataDockable&&!this._forceUndocked&&(content+=dockableTemplate.split("[ID]").join(this._idselector)),fb.innerHTML=content,this.appendChild(fb)},checkResponsiveDocking:function(){const isNarrow=window.innerWidth<900,t=this;t._forceUndocked=isNarrow,isNarrow?t.hasAttribute("docked")&&t.removeAttribute("docked"):t._cacheDocked&&!t.hasAttribute("docked")&&t.setAttribute("docked",!0),t.buildFooterContent()},shadowTemplate:'\n<slot name="header"></slot>\n<slot></slot>\n<slot name="footer"></slot>\n<style type="text/css">\n:host {\nbackground-color: var(--theme-color, var(--color-background, white));\ncolor: var(--theme-color-offset, var(--color-background-offset, black));\ndisplay: flex;\nflex-direction: column;\noverflow: auto;\nz-index:100;\n}\n:host([id]) {\ntransition: all 400ms;\n}\n:host(:not([docked])) {\nposition: fixed;\nleft: 0;\ntop: 0;\nwidth: fit-content;\nheight: 100%;\ntransform: translate(-105%, 0);\n}\n:host(:not([docked]).open) {\ntransform: translate(0,0);\n}\n:host(:not([docked])[slot="top"]) {\nwidth: 100%;\nheight: fit-content;\n}\n:host(:not([docked])[slot="top"]:not(.open)) {\ntransform: translate(0,-105%);\n}\n:host(:not([docked])[slot="right"]) {\nleft: auto;\nright: 0;\n}\n:host(:not([docked])[slot="right"]:not(.open)) {\ntransform: translate(105%,0);\n}\n:host(:not([docked])[slot="bottom"]) {\ntop: auto;\nbottom: 0;\nwidth: 100%;\nheight: fit-content;\n}\n:host(:not([docked])[slot="bottom"]:not(.open)) {\ntransform: translate(0,105%);\n}\n:host[docked]{\n}\n:host([slot="left"]),\n:host([slot="left"]) {\nmin-width: 15ch;\n}\n::slotted([slot="header"]) {\ndisplay: flex;\nfont-size: 1.2rem;\ngap:var(--padding, 1em);\npadding:var(--padding,1em);\n}\n::-webkit-scrollbar,\n*::-webkit-scrollbar {\nbackground-color: var(--scroll-color);\nbox-shadow: var(--scroll-shadow);\n}\n::-webkit-scrollbar-thumb,\n*::-webkit-scrollbar-thumb {\nbackground-color: var(--theme-color);\n}\n::slotted([slot="footer"]) {\ndisplay: flex;\ngap:var(--padding, 1em);\npadding:var(--padding,1em);\n--theme-color: var(--color-footer);\n--theme-color-offset: var(--color-footer-offset);\nbackground-color:var(--theme-color);\ncolor:var(--theme-color-offset);\n}\nslot:not([name]) {\ndisplay:flex;\nflex-grow:1;\nflex-direction:column;\noverflow:auto;\n}\n#actions:empty {display:none;}\nbutton {\nbackground:none;\ncolor:inherit;\npadding:--padding);\nborder:none;\ncursor:pointer;\n}\n:host([slot="bottom"]),\n:host([slot="top"]){\nflex-direction:row;\nalign-items:center;\n}\n:host([slot="bottom"]) ::slotted([slot="header"]),\n:host([slot="top"]) ::slotted([slot="header"]) {\nmin-width:3rem;\n}\n:host([slot="bottom"]) ::slotted(:not([name])),\n:host([slot="top"]) ::slotted(:not([name])) {\nposition:relative;\nflex-direction:row;\nalign-items:center;\n}\n:host([slot="bottom"]) ::slotted([slot="footer"]),\n:host([slot="top"]) ::slotted([slot="footer"]) {\nmin-width:8rem;\n}\n</style>\n'})}