"use strict";{const e=document.createElement("template");e.setAttribute("shadowrootmode",!0),e.innerHTML='\n<style type="text/css">\n:host {\ndisplay:inline-flex;\ncursor:pointer;\npadding:1px;\nalign-items:center;\njustify-content:center;\n}\n</style>\n<webui-fa icon="bell" family="solid"></webui-fa>\n';const t=[],n=document.createElement("section");n.classList.add("webui-alerts-popup"),n.style.display="block",n.style.position="fixed",n.style.bottom=0,n.style.right=0,n.style.overflow="visible",document.body.appendChild(n);let s="Alerts",o=5e3;function getAlertHeader(){const e=document.createElement("header");return e.style.padding="var(--padding)",e.setAttribute("slot","header"),e.innerHTML=s,e}function getAlertContent(){const e=document.createElement("section");if(e.style.padding="var(--padding)",0===t.length)e.innerHTML='<webui-alert variant="info" show>You have no alerts at this time.</webui-alert>';else{let n=0;for(;n<t.length;){let s=t[n];s.userclosed?t.splice(n,1):(s.setAttribute("show",!0),n++,e.appendChild(s))}}return e}function showAlertsInDialog(){webuiDialog({title:getAlertHeader(),content:getAlertContent(),confirm:"Close"})}function showAlertsInDrawer(e){let t=document.querySelector(e);if(t){if(t.classList.contains("open"))return t.classList.remove("open"),void setTimeout(()=>showAlertsInDrawer(e),500);t.innerHTML="",t.appendChild(getAlertHeader()),t.appendChild(getAlertContent()),setTimeout(()=>{t.classList.add("open")},100)}else showAlertsInDialog()}class i extends HTMLElement{constructor(){super();const s=this.attachShadow({mode:"open"}),i=this;i.count=0,i.template=e.content.cloneNode(!0),i.icon=i.template.querySelector("webui-fa"),i.btnClose=i.template.querySelector("#close"),window.webuiAlert||(window.webuiAlert=((e,s)=>{let a=document.createElement("webui-alert");e.nodeName?a.appendChild(e):a.innerHTML=e,a.setAttribute("variant",s||"danger"),a.setAttribute("show",!0),a.userclosed=!1,t.push(a),i.count+=1,i.icon.setAttribute("count",i.count.toLocaleString()),n.appendChild(a),setTimeout(()=>{a.parentNode===n&&a.removeAttribute("show")},o)})),i.addEventListener("click",e=>(i.drawer?showAlertsInDrawer(i.drawer):showAlertsInDialog(),!0)),s.appendChild(i.template),setTimeout(()=>this.checkCounts(),1e3)}static get observedAttributes(){return["data-toggleclass","data-title"]}checkCounts(){let e=0;t.map(t=>{t.userclosed||e++}),e!=this.count&&(this.count=e,this.icon.setAttribute("count",0===e?"":e.toLocaleString())),setTimeout(()=>this.checkCounts(),1e3)}attributeChangedCallback(e,t,n){if(t!==n)switch(this[e]=n,e){case"data-title":s=n;break;case"data-popup":let t=parseInt(n);t&&(o=t);break;case"data-toggleclass":this.drawer=n.split("|")[0]}}setVariant(e,t){switch(e.style.backgroundColor=`var(--color-${t})`,e.style.color=`var(--color-${t}-offset)`,e.className=`theme-${t}`,t){case"danger":e.icon.setAttribute("icon","hexagon-exclamation");break;case"success":e.icon.setAttribute("icon","thumbs-up");break;case"info":e.icon.setAttribute("icon","circle-exclamation");break;default:e.icon.setAttribute("icon","triangle-exclamation")}}connectedCallback(){this.getAttribute("preload")||this.setAttribute("preload","fa alert dialogs")}disconnectedCallback(){}}customElements.define("webui-alerts",i)}