/*!
 * Web UI Toggle Icon - https://webui.stoicdreams.com
 * Toggle button that switches icons, title.
 * Authored by Erik Gassler - Stoic Dreams
 * Copyright Â© 2024-2025 Stoic Dreams - https://www.stoicdreams.com
 * Licensed under the MIT license - https://github.com/StoicDreams/MyFiCDN/blob/main/LICENSE
 */
"use strict";webui.define("webui-toggle-icon",{preload:"icon",constructor:t=>{t._button=t.template.querySelector("button"),t._label=t.template.querySelector("span"),t._icon=t._button.querySelector("webui-icon"),t.addEventListener("click",(_ev=>{t.dataset&&t.dataset.enabled?setTimeout((()=>{t.updateElements()}),10):t.setValue(!t._enabled)}))},linkCss:!0,attr:["label","title-on","title-off","icon","icon-on","icon-off","flags-on","flags-off","data-enabled","enabled","theme-on","theme-off","class"],attrChanged:(t,prop,_v)=>{if("_class"===prop)t._button.classList=t.classList;t.updateElements()},connected:t=>{t.updateElements()},props:{value:{get(){return this._enabled||!1},set(v){this.setValue(v)}}},setValue(value){const t=this;t._enabled=!!value,t._enabled?t.removeAttribute("enabled"):t.setAttribute("enabled",!0),t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),t.updateElements()},getIconOn:function(){return this.iconOn||this.getAttribute("icon-on")||this.icon||"toggle-on"},getIconOff:function(){return this.iconOff||this.getAttribute("icon-off")||this.icon||"toggle-off"},getTitleOn:function(){return this.titleOn||this.getAttribute("title-on")||this.getAttribute("title")||null},getTitleOff:function(){return this.titleOff||this.getAttribute("title-off")||this.getAttribute("title")||null},applyFlags(flags){const t=this;"string"==typeof flags&&flags.split(" ").forEach((flag=>{flag&&t._icon.setAttribute(flag,"1")}))},removeFlags(flags){const t=this;"string"==typeof flags&&flags.split(" ").forEach((flag=>{flag&&t._icon.removeAttribute(flag)}))},updateElements:function(){const t=this;if(t.dataset.enabled){let el=document.querySelector(t.dataset.enabled);el?t._enabled=!!el.docked:(t._recheck=(t._recheck||0)+1,setTimeout((()=>t.updateElements()),100*t._recheck))}t._label.innerHTML=webui.getDefined(t.label,""),t._enabled&&t.themeOn?t.setAttribute("theme",t.themeOn):!t._enabled&&t.themeOff&&t.setAttribute("theme",t.themeOff),t._enabled?(t.removeFlags(t.flagsOff),t.applyFlags(t.flagsOn)):t._enabled||(t.removeFlags(t.flagsOn),t.applyFlags(t.flagsOff)),t._icon.setAttribute("icon",t._enabled?t.getIconOn():t.getIconOff());let title=t._enabled?t.getTitleOn():t.getTitleOff();title&&(t._button.setAttribute("aria-label",title),t.setAttribute("title",title))},shadowTemplate:'\n<button><span></span><webui-icon></webui-icon></button>\n<style type="text/css">\n:host {\ndisplay:inline-block;\n}\nbutton {\ndisplay:flex;\ngap: var(--padding, 1em);\nfont: inherit;\nalign-items:center;\njustify-content: center;\nbackground-color:var(--theme-color, inherit);\ncolor:var(--theme-color-offset, inherit);\nborder:none;\nbox-shadow:none;\nmargin:0;\npadding:0 var(--padding);\ncursor:pointer;\ntransition: all var(--main-transition, 400ms) ease-in-out;\nborder-radius:1rem;\nline-height:1rem;\n}\nspan:empty {display:none;}\n</style>\n'});