"use strict";{function parseWebUIMethods(source){const body=extractClassBody(source);if(!body)return[];const methods=[],lines=body.split(/[\r\n]+/);let currentMetadata=startCommentObject(),currentMethod=startMethodObject(),isExample=!1;for(let index=0;index<lines.length;index++){if(""===lines[index].trim())continue;let[,fieldName]=lines[index].match(/^[\s]{8}([A-Za-z0-9_]+) = .*;/)||[];if(fieldName){currentMethod.name=fieldName,currentMethod.type="field",currentMethod.description=webui.escapeCode(currentMetadata.description.join("\n")).trim(),currentMethod.returns=currentMetadata.returns,currentMethod.line=index,currentMethod.examples=currentMetadata.examples,methods.push(currentMethod),currentMetadata=startCommentObject(),currentMethod=startMethodObject();continue}if(/^[\s]{8}\/\*\*$/.test(lines[index])){isExample=!1,currentMetadata=startCommentObject();continue}if(/^[\s]{9}\*\/$/.test(lines[index])){isExample=!1;continue}let[,,key,,type,paramName,,text]=lines[index].match(/^[\s]{9}\*\s?(@([a-z]+))?\s?(\{([A-Za-z\|]+)\})?\s?([A-Za-z0-9_]+)?\s?(-)?\s?(.*)?$/)||[];if(key||type||paramName||text){if(key)switch(key){case"param":if(!paramName&&text&&(paramName=text,text=""),!paramName){console.error("Param is missing paramName |%s|type:%s|text:%s|",lines[index],type,text,lines[index].match(/^[\s]{9}\*( \@([a-z]+))?( \{([A-Za-z\|]+)\})?( ([A-Za-z0-9_]+) -)? ?(.+)?$/));continue}let pd={};type&&(pd.type=type),text&&(pd.description=text),currentMetadata.parameters[paramName]=pd;break;case"returns":type&&(currentMetadata.returns.type=type),text&&(currentMetadata.returns.description=text.trim());break;case"example":currentMetadata.examples.push(text?`[${text}]`:""),isExample=!0;break;default:console.error("unexpected key %s",key)}else{if(isExample){currentMetadata.examples[currentMetadata.examples.length-1]+=`${text}\n`;continue}text&&currentMetadata.description.push(text)}continue}isExample=!1;let[,,getset,funcName,args,,closing]=lines[index].match(/^[\s]{8}((get|set) )?([A-Za-z0-9_]+)\(([^\)]+)?\) ?\{.*(\})?$/)||[];-1===["constructor"].indexOf(funcName)&&(funcName&&(currentMethod.name=funcName,args=args?args.split(",").map((m=>m.trim())):[],args.forEach((arg=>{let name=(arg=arg.split(/[ =]+/))[0].trim(),def=arg.length>1?arg[1]:"",p={name:name};if(def&&(p.default=def),currentMetadata.parameters[name]){let mp=currentMetadata.parameters[name];Object.keys(mp).forEach((key=>{p[key]=mp[key]}))}currentMethod.parameters.push(p)})),currentMethod.type=getset||"method",currentMethod.description=webui.escapeCode(currentMetadata.description.join("\n")).trim(),currentMethod.returns=currentMetadata.returns,currentMethod.line=index,currentMethod.examples=currentMetadata.examples,methods.push(currentMethod),currentMetadata=startCommentObject(),currentMethod=startMethodObject()))}return methods.sort(((a,b)=>a.name>b.name?1:a.name<b.name?-1:0))}function startCommentObject(){return{description:[],parameters:{},returns:{type:void 0,description:""},examples:[]}}function startMethodObject(){return{name:"",parameters:[],type:"",description:"",returns:void 0,examples:[],line:0}}function extractClassBody(src){return src.match(/(class WebUI \{(.*)\})[\n\s]+const webui/s)[2]}function fixSpecialCharacters(text){return text.replace(/\|/g,'<i class="vl"></i>')}const srcRoot="3180"===location.port?"":"https://cdn.myfi.ws";webui.define("webui-standard-methods",{content:!0,watchVisibility:!1,isInput:!1,preload:"tabs content alert button",constructor:t=>{},flags:[],attr:["height","max-height"],attrChanged:(t,property,value)=>{switch(property){case"height":t.style.height=webui.pxIfNumber(value);break;case"maxHeight":t.style.maxHeight=webui.pxIfNumber(value)}},connected:function(t){t.setupComponent()},disconnected:function(t){},reconnected:function(t){},setupComponent:function(){const t=this;t.innerHTML="";let alert=webui.create("webui-alert");t.appendChild(alert),alert.setValue({text:"Loading Web UI Methods"},"info"),webui.fetchWithCache(`${srcRoot}/webui/loader.js`).then((data=>{const extracted=extractClassBody(data);window.src=extracted,data=parseWebUIMethods(data);const tabs=webui.create("webui-tabs",{pad:"var(--padding)",vertical:!0,"transition-timing":200,"data-subscribe":"session-components-tab-index:setTab"});data.forEach((method=>{if(!method.name)return void console.error("Method is missing name %o",method);let button=webui.create("webui-button",{hash:method.name,align:"left",slot:"tabs",text:`webui.${method.name}`});tabs.appendChild(button);let args=method.parameters.map((p=>p.name)).join(", "),post="";switch(method.type){case"method":post=`(${args})`;break;case"field":case"get":method.returns.type&&(post=`:${method.returns.type}`),method.returns.description&&(post+=` - ${method.returns.description}`);break;case"set":method.returns.type&&(post=`:${method.returns.type}`);break;default:console.error("Unexpected method type",method)}let md=`\n### webui.${method.name}${post}\n`;method.description&&(md+=`\n<webui-page-segment elevation="10">\n    ${method.description}\n</webui-page-segment>\n`),args.length>0&&(md+="\n#### Parameters\n",method.parameters.forEach((a=>{let type=a.type?a.type:"any",def=a.def?`= ${a.def} `:"";if(md+=`> [tertiary] **${a.name}**:${fixSpecialCharacters(type)} ${fixSpecialCharacters(def)}\n`,a.description){let desk=fixSpecialCharacters(a.description).split(/[\r\n]+/).join("\n>>");md+=`>>${desk}\n`}}))),method.examples.length>0?(md+="##### Examples\n",method.examples.forEach((ex=>{let[,,type,text]=ex.trim().match(/^(\[([A-Za-z]+)\])?[\s]*(.*)$/s)||[];text=text||ex,type=type||"javascript";let lines=text.split(/[\r\n]+/),d="";lines[0].startsWith("//")&&(d=` - ${webui.escapeCode(lines.shift().substring(2).trim())}`,text=lines.join("\n")),md+=`\n\`\`\`${type}:Example${d}\n${text}\n\`\`\`\n`}))):"method"===method.type?(md+="##### Examples\n",md+=`\n\`\`\`javascript:Example\nlet result = webui.${method.name}(${args});\n\`\`\`\n`):"get"===method.type?(md+="##### Examples\n",md+=`\n\`\`\`javascript:Example\nlet result = webui.${method.name};\n\`\`\`\n`):"set"===method.type&&(md+="##### Examples\n",md+=`\n\`\`\`javascript:Example\nwebui.${method.name} = value;\n\`\`\`\n`);const html=webui.parseWebuiMarkdown(md);let content=webui.create("webui-content",{slot:"content",html:html});tabs.appendChild(content)})),alert.remove(),t.appendChild(tabs)})).catch((ex=>{alert.setValue({text:`Failed to load method data:${ex}`},"danger")}))}})}