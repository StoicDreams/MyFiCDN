"use strict";webui.define("webui-tabs",{constructor:t=>{t._index=0,t._slotContent=t.template.querySelector('slot[name="content"]'),t._slotTabs=t.template.querySelector('slot[name="tabs"]'),t._slotTemplates=t.template.querySelector('slot[name="template"]'),t._section=t.template.querySelector("section")},attr:["pad","transition-timing","index","theme"],attrChanged:(t,property,value)=>{switch(property){case"pad":t.style.setProperty("--theme-padding",webui.pxIfNumber(value));break;case"transitionTiming":t._slotContent.style.setProperty("transition-duration",webui.msIfNumber(value))}},connected:t=>{t.render()},setData:function(data,key){let t=this;if(!data||!data.forEach)return;let templateLabel="",templateContent="";t._slotTemplates.assignedElements().forEach((template=>{switch(template.getAttribute("name")){case"label":templateLabel=template.innerHTML;break;case"content":templateContent=template.innerHTML}})),webui.removeElements(t,"[data-dynamic]");let index=0;data.forEach((item=>{let displayItem=webui.setDefaultData(item,{label:"Missing Label",content:"Missing Content"});displayItem["tab-index"]=index++,displayItem["tab-page"]=index;let btn=webui.create("webui-button",{slot:"tabs","data-dynamic":"1"}),content=webui.create("webui-page-segment",{slot:"content","data-dynamic":"1"});btn.innerHTML=templateLabel?webui.applyAppDataToContent(templateLabel,displayItem):displayItem.label,content.innerHTML=templateContent?webui.applyAppDataToContent(templateContent,displayItem):displayItem.content,t.appendChild(btn),t.appendChild(content)})),t._initiated=!1,t.render()},setTab:function(tabIndex){let t=this;if(null==tabIndex)return;if(tabIndex=parseInt(tabIndex)||0,t._initiated&&tabIndex===t._index)return;let index=0,foundIndex=!1;return t.querySelectorAll('[slot="tabs"]').forEach((tab=>{tabIndex===index++?(tab.classList.add("theme-active"),t._index=index-1,foundIndex=!0):tab.classList.remove("theme-active")})),tabIndex>0&&!foundIndex?(console.error("did not find tab index",tabIndex),void t.setTab(tabIndex-1)):(index=0,foundIndex=!1,t.querySelectorAll('[slot="content"]').forEach((_=>{if(tabIndex===index++){let offset=100*tabIndex;t._slotContent.style.translate=`-${offset}% 0`,foundIndex=!0}})),tabIndex>0&&!foundIndex?(console.error("did not find content index",tabIndex),void t.setTab(tabIndex-1)):(t._index=tabIndex,t.dataset.subscribe&&t.dataset.subscribe.split("|").forEach((ds=>{let dss=ds.split(":");"setTab"===dss[1]&&webui.getData(dss[0])!==t._index&&webui.setData(dss[0],t._index)})),void(t._initiated=!0)))},render:function(){let t=this,nodes=t.querySelectorAll('[slot="content"]');t._slotContent.style.setProperty("grid-template-columns",new Array(nodes.length).fill("100%").join(" "));let tabIndex=0;if(t.querySelectorAll('[slot="tabs"]').forEach((node=>{const myIndex=tabIndex++;node._isSetup||(node._isSetup=!0,node.addEventListener("click",(_=>{t.setTab(myIndex)})))})),t.dataset.subscribe){let tabIsSet=!1;if(t.dataset.subscribe.split("|").forEach((ds=>{let dss=ds.split(":");if(2!==dss.length||"setTab"!==dss[1])return;let cached=webui.getData(dss[0]);void 0!==cached&&(t.setTab(cached),tabIsSet=!0)})),tabIsSet)return}t.setTab(t._index||0)},shadowTemplate:'\n<slot name="tabs"></slot>\n<section>\n<slot name="content"></slot>\n</section>\n<slot name="template"></slot>\n<style type="text/css">\n:host {\ndisplay:block;\noverflow:hidden;\nwidth:100%;\nwidth:-webkit-fill-available;\n--theme-color:var(--color-title);\n--theme-color-offset:var(--color-title-offset);\n--theme-padding: 0px;\n}\n:host([vertical]) {\ndisplay:grid;\ngrid-template-columns:max-content auto;\n}\nslot[name="template"] {display:none;}\nslot[name="tabs"] {\ndisplay:flex;\nflex-wrap:wrap;\nbackground-color:var(--theme-color);\ncolor:var(--theme-color-offset);\ngap:var(--theme-padding);\nborder-radius:var(--corners) var(--corners) 0 0;\n}\n:host([vertical]) slot[name="tabs"] {\nflex-direction:column;\n}\nslot[name="content"] {\ndisplay:grid;\npadding:var(--theme-padding);\ngap: calc(2 * var(--theme-padding));\nwidth:100%;\nbox-sizing:border-box;\ntransition-duration:0;\nmin-height:100%;\n}\n::slotted([slot="content"]) {\nmin-height:100%;\n}\nsection {\ndisplay:block;\noverflow:hidden;\nbox-sizing:border-box;\nborder-radius:0 0 var(--corners) var(--corners);\nborder:1px solid var(--theme-color);\n}\n</style>\n'});