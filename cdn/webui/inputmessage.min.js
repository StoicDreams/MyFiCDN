"use strict";{function handleKeyDown(ev){if("Tab"!==ev.key||!ev.shiftKey)return;if(!ev.target||"TEXTAREA"!==ev.target.nodeName)return;ev.preventDefault();let el=ev.target,text=el.value,postTab=text.slice(el.selectionEnd,text.length),cursorPos=el.selectionEnd;ev.target.value=text.slice(0,el.selectionStart)+"\t"+postTab,++cursorPos,el.selectionStart=cursorPos,el.selectionEnd=cursorPos}function UpdateAllDisplayedTextareaSizes(){let index=0;for(;index<talist.length;)talist[index].offsetParent?talist[index++].autosize():talist.shift()}const talist=[];window.addEventListener("resize",UpdateAllDisplayedTextareaSizes),webui.define("webui-inputmessage",{constructor:t=>{t.internals=t.attachInternals(),t.autosize=()=>{var target;t.field.value!==t.value&&(t.value=t.field.value,t.internals.setFormValue(t.name,t.value)),"TEXTAREA"===(target=t.field).nodeName&&setTimeout((()=>{target.style.height="0px";let newHeight=target.scrollHeight;target.style.height=`${newHeight+30}px`}),1)},t._handleFormData=t.handleFormData.bind(t),talist.push(t),t.field=t.template.querySelector("textarea"),t.field.setAttribute("name","message"),t.field.addEventListener("keydown",handleKeyDown),t.field.addEventListener("keyup",t.autosize),t.field.addEventListener("change",t.autosize)},attr:["title","name","autofocus","value"],attrChanged:(t,property,value)=>{switch(property){case"name":t.field.setAttribute("name",value);break;case"autofocus":t.field.setAttribute("autofocus",value);break;case"value":t.field.value=value}},handleFormData:function({formData:formData}){this.disabled||(formData[this.name]=this.value)},shadowTemplate:'\n<style type="text/css">\n:host {\ndisplay:block;\nposition:relative;\nmin-height:3em;\nbox-sizing:border-box;\n}\ntextarea {\ndisplay:block;\nposition:relative;\nwidth:100%;\nmin-height:3em;\nbox-sizing:border-box;\npadding:var(--padding);\nfont:inherit;\n}\n</style>\n<textarea></textarea>\n'})}