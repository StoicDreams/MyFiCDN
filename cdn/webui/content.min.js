"use strict";webui.define("webui-content",{watchVisibility:!0,constructor:t=>{t.loadDelay=300},attr:["src","preload","load-delay"],attrChanged:(t,property,value)=>{switch(property){case"loadDelay":t.loadDelay=parseInt(value)||0;break;case"visible":t.updateContent()}},connected:t=>{setTimeout((()=>t.updateContent()),10)},updateContent:function(){let t=this;t.preload?t.fetchContent():t.visible&&setTimeout((()=>t.fetchContent()),t.loadDelay)},fetchContent:async function(){let t=this;if((t.preload||t.visible)&&!t._contentLoaded)if(t.src){t.classList.add("loading"),t._contentLoaded=!0;try{let content=await fetch(t.src);if(!content.ok)return void(t.innerHTML=`Failed to load content from ${t.src}`);let body=await content.text();if(body.startsWith("<!DOCTYPE"))return void(t.innerHTML=`Source ${t.src} did not return expected markdown/html snippet (Full HTML documents are not allowed by t component)`);if(t.hasAttribute("slot"))t.innerHTML=webui.applyAppDataToContent(body);else{let temp=document.createElement("div");temp.innerHTML=webui.applyAppDataToContent(body);let n=[],p=t.parentNode,b=t;temp.childNodes.forEach((node=>{n.push(node)})),n.forEach((node=>{p.insertBefore(node,b)})),t.parentNode!==p&&b.remove(),t.remove()}}catch(ex){t.innerHTML=`Source ${t.src} failed to load:${ex}`}t.classList.remove("loading"),t.classList.add("loaded")}else setTimeout((()=>t.fetchContent()),10)},shadowTemplate:'\n<slot></slot>\n<style type="text/css">\n:host(:not(.loaded)) slot,\n:host(:not([visible])) slot {\ndisplay:none;\n}\n:host(:not(.loaded)) {\ndisplay:flex;\nflex-direction:column;\ngap: var(--padding);\nalign-items: center;\njustify-content: center;\n}\n:host(:not(.loaded)):before {\ncontent: " ";\nanimation: spin 1s infinite linear;\nborder: 2px solid rgba(30, 30, 30, 0.5);\nborder-left: 4px solid #fff;\nborder-radius: 50%;\nheight: 50px;\nmargin-bottom: 10px;\nwidth: 50px;\n}\n:host(:not(.loaded).loading):after {\ncontent: \'Loading\';\nanimation: load 2s linear infinite;\n}\n:host([visible].loaded) {\nanimation: animation-fadein 300ms ease-in;\n}\n</style>\n'});