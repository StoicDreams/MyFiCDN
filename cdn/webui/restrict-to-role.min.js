/*!
 * Web UI Restrict To Role - https://webui.stoicdreams.com/components#webui-restrict-to-role
 * A component for restricting content visibility based on user roles.
 * Authored by Erik Gassler - Stoic Dreams
 * Copyright Â© 2024-2025 Stoic Dreams - https://www.stoicdreams.com
 * Licensed under the MIT license - https://github.com/StoicDreams/MyFiCDN/blob/main/LICENSE
 */
"use strict";webui.define("webui-restrict-to-role",{content:!1,constructor(){const t=this;t._slotValid=t.template.querySelector('slot[name="valid"]'),t._slotInvalid=t.template.querySelector('slot[name="invalid"]')},attr:["role"],attrChanged(property,value){this.checkRole()},connected(){this.addDataset("subscribe","session-user-role:setUserRole"),this.checkRole()},setSessionUserRole(userRole){this.setUserRole(userRole)},setUserRole(userRole){this.userRole=userRole||0,this.checkRole()},checkRole(){const t=this;if(void 0===t.userRole||void 0===t.role)return void t.showInvalid();let role=parseInt(t.role),userRole=parseInt(t.userRole);0===role?0===userRole?t.showValid():t.showInvalid():userRole&role>0?t.showValid():t.showInvalid()},showValid(){const t=this;if("content"===t._showing)return;t._showing="content",webui.removeChildren(t,(ch=>!ch.hasAttribute||!ch.hasAttribute("slot")));let html=webui.getHtmlFromTemplate(t._slotValid);webui.transferChildren(webui.create("div",{html:html}),t)},showInvalid(){const t=this;if("invalid"===t._showing)return;t._showing="invalid",webui.removeChildren(t,(ch=>!ch.hasAttribute||!ch.hasAttribute("slot")));let html=webui.getHtmlFromTemplate(t._slotInvalid);webui.transferChildren(webui.create("div",{html:html}),t)},shadowTemplate:'\n<slot name="valid"></slot>\n<slot name="invalid"></slot>\n<slot></slot>\n<style type="text/css">\nslot[name] {display:none;}\n</style>\n'});