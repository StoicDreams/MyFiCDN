"use strict";webui.define("webui-dropdown",{preload:"fa",constructor:t=>{t._template=t.template.querySelector('slot[name="template"]');let optionTemplate=t.querySelector('[slot="template"]');optionTemplate&&(t._optionTemplate=webui.trimLinePreWhitespce(optionTemplate.innerHTML)),t._label=t.template.querySelector("label"),t._select=t.template.querySelector("select"),t._icon=t.template.querySelector("webui-fa"),t._select.addEventListener("change",(_=>{t.value=t._select.value,t.dispatchEvent(new Event("change",{bubbles:!0}))}))},attr:["theme","icon","label","stack"],attrChanged:(t,property,value)=>{switch(property){case"theme":t.setTheme(value);break;case"label":t._label.innerHTML=value}},connected:t=>{let id=webui.uuid();t.setTheme(t.theme||"primary"),t._label.setAttribute("for",id),t._select.setAttribute("id",id)},options:function(options){this.setOptions(options)},setOptions:function(options){let t=this,data=JSON.parse(options);if(!data.forEach)return void console.error("webui-dropdown data error: Invalid data loaded - Expecting an array of data.");let template=t._optionTemplate;t._select.innerHTML="",data.forEach((item=>{let id=t.dataset.id?item[t.dataset.id]:item.id;if(void 0===id&&void 0!==item.value&&(id=item.value),void 0===id)return void console.error("webui-dropdown data error: Option is missing id",item);let option=webui.create("option",{value:id});option.innerHTML=template?webui.replaceAppData(template,item):id,t._select.appendChild(option)}))},setValue:function(value){},shadowTemplate:'\n<style type="text/css">\n:host {\ndisplay:flex;\ngap:var(--padding,1rem);\nposition:relative;\nbox-sizing:border-box;\nalign-items: center;\n}\n:host([stack]) {\nflex-direction:column;\n}\nselect {\ndisplay:block;\nflex-grow:1;\npadding: var(--padding,1rem);\nheight:100%;\n}\nlabel:empty {display:none;}\nlabel {\npadding:var(--padding,1rem);\n}\nslot[name="template"] {display:none;}\n</style>\n<label>\n<webui-fa></webui-fa>\n<slot name="label"></slot>\n<webui-fa></webui-fa>\n</label>\n<select><slot></slot></select>\n<slot name="template"></slot>\n'});