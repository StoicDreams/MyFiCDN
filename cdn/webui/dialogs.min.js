"use strict";{const n=document.createElement("template");function ce(n,e){let o=document.createElement(n);return o.className=e,o}n.setAttribute("shadowrootmode",!0),n.innerHTML='\n<style type="text/css">\n:host {\n}\ndialog {\ndisplay:none;\nopacity:0;\npadding:0;\ntransform:scaleY(0) scaleX(0) scaleZ(0.8) translateX(-500px) translateY(500px);\nborder-radius:var(--corners, 0);\nborder:none;\nmax-width:80%;\nmax-height:80%;\nflex-direction:column;\ntransition:\nopacity 0.4s ease-out,\ntransform 0.4s ease-out,\noverlay 0.4s ease-out allow-discrete,\ndisplay 0.4s ease-out allow-discrete;\n}\ndialog[open] {\ndisplay:flex;\nopacity:1;\ntransform:scaleY(1) scaleX(1) scaleZ(1) translateX(0) translateY(0px);\n}\nform>header,\nform>section,\nform>footer {\ndisplay:flex;\ngap: var(--padding, 1em);\npadding:var(--padding, 1em);\n}\nform>header,\nform>footer {\nflex-direction:row;\n}\nform>section {\nflex-direction:column;\noverflow:auto;\nmax-height:calc(var(--window-height) * 0.8 - 10em);\n}\nheader>section,\nfooter>span {\nflex-grow:1;\n}\nform>header{\nbackground-color:var(--color-title);\ncolor:var(--color-title-offset);\n}\nform>footer {\nbackground-color:var(--color-footer);\ncolor:var(--color-footer-offset);\n}\ndialog::backdrop {\nbackground-color: rgb(0 0 0 / 0%);\nbackdrop-filter:blur(0);\ntransition:\ndisplay 0.4s allow-discrete,\noverlay 0.4s allow-discrete,\nbackground-color 0.4s;\n}\ndialog[open]::backdrop {\nbackground-color: rgb(0 0 0 / 50%);\nbackdrop-filter:var(--backdrop-blur, blur(5px));\n}\n@starting-style {\ndialog[open] {\nopacity:0;\ntransform:scaleY(0) scaleX(0) scaleZ(0.8) translateX(500px) translateY(-500px);\n}\ndialog[open]::backdrop {\nbackground-color: rgb(0 0 0 / 0%);\nbackdrop-filter:blur(0);\n}\n}\nbutton {\ndisplay:inline-flex;\ncursor:pointer;\npadding:var(--button-padding, 0.5em 1em);\nalign-items:center;\njustify-content:center;\nborder:none;\nbackground:none;\ncolor:inherit;\nborder-radius:var(--corners);\n}\nbutton:empty {display:none;}\ndialog[data-hideclose] button#dlg-close {\ndisplay:none;\n}\nbutton#dlg-cancel {\nbackground-color:var(--color-warning, #666);\ncolor:var(--color-warning-offset, #CCC);\n}\nbutton#dlg-confirm {\nbackground-color:var(--color-success, #555);\ncolor:var(--color-success-offset, #FFF);\n}\n</style>\n<dialog>\n<form method="dialog">\n<header>\n<section></section>\n<button id="dlg-close" value="cancel" formmethod="dialog"><webui-fa icon="xmark"></webui-fa></button>\n</header>\n<section></section>\n<footer>\n<button id="dlg-cancel" value="cancel" formmethod="dialog" formnovalidate></button>\n<span></span>\n<button id="dlg-confirm" value="confirm" formmethod="dialog"></button>\n</footer>\n</form>\n</dialog>\n';const e={content:"Missing Content",confirm:"Ok"};class o extends HTMLElement{constructor(){function o(n,e){e=e||"",e.nodeType?n.appendChild(e):n.innerHTML=e}function t(){l.header=r(l.header),l.content=r(l.content),l.btnCancel=r(l.btnCancel),l.btnConfirm=r(l.btnConfirm)}function r(n){let e=n.cloneNode();return n.parentNode.insertBefore(e,n),n.remove(),e}super();const a=this.attachShadow({mode:"open"}),l=this;l.template=n.content.cloneNode(!0),l.dialog=l.template.querySelector("dialog"),l.form=l.template.querySelector("form"),l.header=l.template.querySelector("form>header>section"),l.content=l.template.querySelector("form>section"),l.footer=l.template.querySelector("form>footer"),l.btnClose=l.template.querySelector("#dlg-close"),l.btnConfirm=l.template.querySelector("#dlg-confirm"),l.btnCancel=l.template.querySelector("#dlg-cancel"),a.appendChild(l.template);let c=()=>{};document.body.addEventListener("keyup",n=>{"Escape"===n.key&&c(!0)}),window.webuiDialog||(window.webuiDialog=function(n){return new Promise((r,a)=>{t(),n=n||e,l.dialog.style.minWidth=n.minWidth||"",o(l.content,n.content||e.content),o(l.btnCancel,n.cancel||e.cancel),o(l.btnConfirm,n.confirm||e.confirm),o(l.header,n.title||""),n.hideclose?l.dialog.setAttribute("data-hideclose",!0):l.dialog.removeAttribute("data-hideclose"),c=(e=>{n.onclose&&n.onclose(),e&&a("canceled"),l.dialog.close(),c=(()=>{})}),l.btnClose.addEventListener("click",()=>c(!0)),l.btnCancel.addEventListener("click",()=>c(!0)),l.btnConfirm.addEventListener("click",async e=>{e.preventDefault(),console.log("form",l.form);let o=new FormData(l.form);if(n.onconfirm)if(n.onconfirm.constructor&&"AsyncFunction"===n.onconfirm.constructor.name){let e=await n.onconfirm(o,l.content);if(!e)return}else if(!n.onconfirm(o,l.content))return;r(o,l.content),c(!1)}),l.dialog.showModal()})})}static get observedAttributes(){return[]}attributeChangedCallback(n,e,o){e!==o&&(this[n]=o,this.updateElements())}connectedCallback(){}disconnectedCallback(){}}customElements.define("webui-dialogs",o)}