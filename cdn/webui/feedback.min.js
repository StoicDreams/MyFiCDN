"use strict";{const e=document.createElement("template");e.setAttribute("shadowrootmode",!0),e.innerHTML='\n<style type="text/css">\n:host {\ndisplay:inline-flex;\ncursor:pointer;\npadding:var(--button-padding, 0.5em 1em);\nalign-items:center;\njustify-content:center;\n}\n</style>\n<webui-fa icon="comment" family="solid"></webui-fa>\n';const t='\n<webui-inputmessage autofocus></webui-inputmessage>\n<webui-alert id="alert"></webuialert>\n';class n extends HTMLElement{constructor(){super();const n=this.attachShadow({mode:"open"});let s=this.innerHTML;const a=this;a.template=e.content.cloneNode(!0),a.getAttribute("preload")||a.setAttribute("preload","dialogs inputmessage alert"),n.appendChild(a.template),a.addEventListener("click",async()=>{let e={title:"Give us your Feedback!",minWidth:"80%"},n=a.getAttribute("data-post");n?(e.onconfirm=((e,t)=>{let s=t.querySelector("#alert"),a=t.querySelector("webui-inputmessage");s.removeAttribute("show");let o=JSON.stringify({message:a.value});return console.log("body",o),a.value?fetch(n,{method:"POST",mode:"cors",credentials:"include",cache:"no-cache",body:o,headers:{"Content-Type":"application/json"}}).then(e=>{console.log("Success",e)}).catch(e=>{console.log("Fail",e.message,e.status,e),s.innerHTML=`${e}`,s.setAttribute("variant","danger"),s.setAttribute("show",!0)}):(s.innerHTML="Please provide a message.",s.setAttribute("variant","info"),s.setAttribute("show",!0)),!1}),e.content=`${s}${t}`,e.confirm="Send Feedback",e.cancel="Cancel"):e.content='Attribute data-post="https://..." needs to be set.';try{let t=await webuiDialog(e);console.log(t)}catch(e){console.log(e)}})}static get observedAttributes(){return["title","data-post"]}attributeChangedCallback(e,t,n){t!==n&&(this[e]=n)}connectedCallback(){}disconnectedCallback(){}}customElements.define("webui-feedback",n)}