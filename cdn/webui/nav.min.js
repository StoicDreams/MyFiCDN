"use strict";webui.define("webui-nav",{preload:"fa paper nav-group nav-link",attr:["routes","nav-routes"],attrChanged:(t,property,value)=>{switch(property){case"routes":t.loadRoutes(value);break;case"navRoutes":t.buildNav(value)}},setNavRoutes:function(data){this.buildNav(data)},loadRoutes:async function(url){if(!url)return;let loaded=await fetch(url);if(!loaded.ok)return;let data=await loaded.text();this.buildNav(data)},buildLink:function(parent,link){let t=this,el=null;if(link.url)el=document.createElement("webui-nav-link"),el.setAttribute("url",link.url);else{if(!link.children)return void console.error("Invalid nav item",link);el=document.createElement("webui-nav-group"),link.children.forEach((child=>{t.buildLink(el,child)}))}link.icon&&(el.setAttribute("icon",link.icon),link.iconFamily&&el.setAttribute("family",link.iconFamily)),el.setAttribute("name",link.name),parent.appendChild(el)},buildNav:function(navJson){if(!navJson)return;let nav=JSON.parse(navJson),t=this;t.innerHTML="",nav.forEach((link=>{this.buildLink(t,link)}))}});