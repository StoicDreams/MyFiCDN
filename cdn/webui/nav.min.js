"use strict";{class e extends HTMLElement{constructor(){super()}static get observedAttributes(){return["routes","nav-routes"]}attributeChangedCallback(e,t,i){if(t!==i)switch(null==i?delete this[e]:this[e]=i,e){case"routes":this.loadRoutes(i);break;case"nav-routes":this.buildNav(i)}}async loadRoutes(e){if(!e)return;let t=await fetch(e);if(!t.ok)return;let i=await t.text();this.buildNav(i)}buildLink(e,t){let i=this,n=null;if(t.url)n=document.createElement("webui-nav-link"),n.setAttribute("url",t.url);else{if(!t.children)return void console.error("Invalid nav item",t);n=document.createElement("webui-nav-group"),t.children.forEach(e=>{i.buildLink(n,e)})}t.icon&&(n.setAttribute("icon",t.icon),t.iconFamily&&n.setAttribute("family",t.iconFamily)),n.setAttribute("name",t.name),e.appendChild(n)}buildNav(e){if(!e)return;let t=JSON.parse(e),i=this;i.innerHTML="",t.forEach(e=>{this.buildLink(i,e)})}connectedCallback(){this.getAttribute("preload")||this.setAttribute("preload","fa paper nav-group nav-link")}disconnectedCallback(){}}customElements.define("webui-nav",e)}