"use strict";{const notFoundDef="WEBUI-ICON-NOT-FOUND\n    M0 -70Q25 -45 25 -45Q45 -25 45 -25Q70 0 70 0Q50 20 50 20Q25 45 25 45Q0 70 0 70Q-35 35 -35 35Q-70 0 -70 0Q-45 -25 -45 -25Q-25 -45 -25 -45Q0 -70 0 -70z\n    M0 -70Q25 -45 25 -45Q45 -25 45 -25Q70 0 70 0Q50 20 50 20Q25 45 25 45Q0 70 0 70Q-35 35 -35 35Q-70 0 -70 0Q-45 -25 -45 -25Q-25 -45 -25 -45Q0 -70 0 -70z\n    M0 -70Q25 -45 25 -45Q45 -25 45 -25Q70 0 70 0Q50 20 50 20Q25 45 25 45Q0 70 0 70Q-35 35 -35 35Q-70 0 -70 0Q-45 -25 -45 -25Q-25 -45 -25 -45Q0 -70 0 -70z",pathCount=8,cache={},waiter={},srcRoot="MyFi CDN"===webui.getData("appName")?"/icons/":"https://cdn.myfi.ws/icons/",defCircle="M 0 -95 A 95 95 0 1 1 0 95 A 95 95 0 1 1 0 -95",defSquare="M-95 -95 L -95 95 L 95 95 L 95 -95Z",missing={};function noteMissingIcon(name,ex){missing[name]||(missing[name]=!0,console.log("missing icon",name,ex||""))}async function getIcon(name,handler){if(!name)return"";let iconDef=cache[name];if(iconDef)handler(iconDef);else if(waiter[name])waiter[name].push(handler);else{waiter[name]=[];try{let result=await fetch(`${srcRoot}${name}.webui`);result.ok?(iconDef=await result.text(),iconDef.startsWith("WEBUI-ICON-")?iconDef=iconDef.replace(/\r/g,""):(noteMissingIcon(name),iconDef=notFoundDef)):(noteMissingIcon(name),iconDef=notFoundDef)}catch(ex){noteMissingIcon(name,ex),iconDef=notFoundDef}cache[name]=iconDef,handler(iconDef),setTimeout((()=>{waiter[name].forEach((h=>h(iconDef))),delete waiter[name]}),10)}}webui.define("webui-icon",{preload:"",constructor:t=>{t._svg=t.template.querySelector("svg"),t._countSlot=t.template.querySelector("slot[name=count]"),t._style=t.template.querySelector("defs style"),t._backPath=t.template.querySelector("path.backing"),t._dynPaths=[];for(let instance=1;instance<=pathCount;++instance)t[`_i${instance}`]=t.template.querySelector(`path.i${instance}`),t._dynPaths.push(t[`_i${instance}`])},attr:["width","height","shadow","icon","inverted","backing","circle","rotate","count"],attrChanged:(t,property,value)=>{switch(property){case"count":let num=parseInt(value)||0;t._countSlot.innerHTML=num>0?num.toLocaleString():value;break;case"inverted":break;case"rotate":let number=parseFloat(value);t._svg.style.transform=number>0||number<0?`rotate(${number}deg)`:"";break;case"circle":null===value?t._backPath.setAttribute("d",defSquare):t._backPath.setAttribute("d",defCircle);break;case"icon":if(!value)return;let idata=value.split("|"),icon=idata.shift();idata.forEach((flag=>{let av=flag.split(":");av[0].startsWith("-")?t.removeAttribute(av[0].substring(1)):t.setAttribute(av[0],webui.getDefined(av[1],!0))})),getIcon(icon,(iconDef=>{t.setIconDefinition(iconDef)}));break;case"shadow":t._svg.style.filter=`drop-shadow:${value}`;case"width":t.style.width=webui.pxIfNumber(value);break;case"height":t.style.height=webui.pxIfNumber(value)}},connected:_t=>{},setIconDefinition(iconDef){if(!iconDef||"string"!=typeof iconDef)return;let t=this;t._definition=iconDef;let defs=iconDef.split("\n");defs.shift();let instance=0;for(defs.forEach((icoDef=>{if(!icoDef)return;let segments=icoDef.split("|"),key="_i"+ ++instance,path=t[key];path&&t.setPathRule(path,segments.join("|"))}));instance<pathCount;){let key="_i"+ ++instance,path=t[key];t.setPathRule(path,"")}},setTheme(value){let t=this;value?(t.style.setProperty("--theme-color",`var(--color-${value}-offset)`),t.style.setProperty("--theme-color-offset",`var(--color-${value})`)):(t.style.removeProperty("--theme-color"),t.style.removeProperty("--theme-color-offset"))},setPathRule(path,rule){if(!rule)return void path.setAttribute("d","");let segments=rule.split("|");if(segments.length>1){let stroke=segments.shift();path.style.stroke=stroke}for(;segments.length>1;)segments.shift();path.setAttribute("d",segments[0])},clearPaths(){let t=this;for(let instance=1;instance<=pathCount;++instance){t[`_i${instance}`].setAttribute("d","")}},shadowTemplate:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="-100 -100 200 200">\n\x3c!--! Stoic Dreams - https://webui.stoicdreams.com License - https://webui.stoicdreams.com/license Copyright 2024 Stoic Dreams Inc. --\x3e\n<defs>\n<style></style>\n</defs>\n<path class="backing" d="M-95 -95 L -95 95 L 95 95 L 95 -95Z"></path>\n<path class="i1" d=""></path>\n<path class="i2" d=""></path>\n<path class="i3" d=""></path>\n<path class="i4" d=""></path>\n<path class="i5" d=""></path>\n<path class="i6" d=""></path>\n<path class="i7" d=""></path>\n<path class="i8" d=""></path>\n</svg>\n<slot name="count"></slot>\n<style type="text/css">\n:host {\n--ico-color-border: var(--icon-default-border-color, none);\n--ico-color-primary: var(--theme-color-offset, currentColor);\n--ico-color-offset: var(--theme-color);\n--ico-color-secondary: var(--ico-color-primary);\n--ico-color-tertiary: var(--ico-color-primary);\n--ico-stroke-width: var(--icon-stroke-width, 10);\n--ico-height: var(--icon-height, 3ch);\n--ico-transition-duration: var(--icon-transition-duration, 400ms);\ndisplay: inline-flex;\nposition: relative;\naspect-ratio:1;\nalign-items: center;\njustify-items: center;\nheight: auto;\nwidth: auto;\nmin-height: var(--ico-height);\nmargin:0;\npadding:0;\n}\nsvg {\nwidth:auto;\nheight:100%;\nfill: var(--ico-color-primary);\nvertical-align: middle;\ntransition: all var(--ico-transition-duration) ease-in-out;\n}\npath {\ntransition: all var(--ico-transition-duration) ease-in-out;\nfill:none;\nstroke:var(--ico-color-primary);\nstroke-width:var(--ico-stroke-width);\nstroke-linecap:round;\nstroke-linejoin: round;\n}\npath:not(.backing):nth-of-type(4n+3) {\nstroke:var(--ico-color-tertiary);\n}\npath:not(.backing):nth-of-type(4n+4) {\nstroke:var(--ico-color-secondary);\n}\n:host([fill]) path:not(.backing) {\nfill:var(--ico-color-primary);\n}\n:host([fill]) path:not(.backing):nth-of-type(4n+3) {\nfill:var(--ico-color-tertiary);\n}\n:host([fill]) path:not(.backing):nth-of-type(4n+4) {\nfill:var(--ico-color-secondary);\n}\n:host([thin]) {\n--ico-stroke-width: calc(0.5 * var(--icon-stroke-width, 10));\n}\n:host([thick]) {\n--ico-stroke-width: calc(1.5 * var(--icon-stroke-width, 10));\n}\n:host([fill]) path,\n:host([duo]) path {\n--ico-color-secondary: color-mix(in srgb, var(--ico-color-primary) 50%, var(--ico-color-offset));\n}\n:host([fill]) path:not(.backing) {\nfill:color-mix(in srgb, var(--ico-color-primary) 80%, var(--ico-color-offset));\n}\n:host([duo][fill]) path:not(.backing),\n:host([tri][fill]) path:not(.backing) {\nfill:color-mix(in srgb, var(--ico-color-primary) 20%, var(--ico-color-offset));\n}\n:host([duo][fill]) path:not(.backing):nth-of-type(4n+3) {\nfill:var(--ico-color-tertiary);\n}\n:host([duo][fill]) path:not(.backing):nth-of-type(4n+4) {\nfill:var(--ico-color-secondary);\n}\n:host([tri]) path {\n--ico-color-secondary: color-mix(in srgb, var(--ico-color-primary) 66%, var(--ico-color-offset));\n--ico-color-tertiary: color-mix(in srgb, var(--ico-color-primary) 33%, var(--ico-color-offset));\n}\n:host([tri][fill]) path:not(.backing):nth-of-type(4n+3) {\nfill:color-mix(in srgb, var(--ico-color-primary) 20%, var(--ico-color-offset));\n}\n:host([tri][fill]) path:not(.backing):nth-of-type(4n+4) {\nfill:color-mix(in srgb, var(--ico-color-primary) 20%, var(--ico-color-offset));\n}\n:host([sharp]) path {\nstroke-linecap:butt;\nstroke-linejoin: miter;\n}\npath.backing {\nstroke-width: var(--ico-stroke-width);\n}\npath.backing {\nstroke: var(--ico-color-border);\n}\n:host([backing]) path.backing {\nfill:color-mix(in srgb, var(--ico-color-primary) 20%, var(--ico-color-offset));\n}\n:host([inverted]) {\n--ico-color-offset: var(--theme-color-offset, currentColor);\n--ico-color-primary: var(--theme-color);\n}\n:host([inverted]) path.backing {\nfill:var(--ico-color-offset);\n}\n:host([border]) path.backing,\n:host([bordered]) path.backing {\n--ico-color-border:var(--ico-color-primary);\n}\n:host(:not([circle]):not([inverted]):not([square]) path.backing),\npath[d=""] {\ndisplay:none;\n}\nslot[name="count"] {\ndisplay:flex;\njustify-content:center;\nposition:absolute;\nborder-radius:1em;\nbackground-color:var(--theme-color-offset, var(--color-info-offset));\ncolor:var(--theme-color, var(--color-info));\nbottom:50%;\nright:-5%;\npadding:1px;\nfont-size:0.6em;\nmin-width:1rem;\ntext-align:center;\n}\nslot[name="count"]:empty {\ndisplay:none;\n}\n</style>'})}